{"ast":null,"code":"import { Touch, EventHandler, remove, addClass, createElement, closest } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport * as cls from '../base/css-constant';\n/**\n * Kanban touch module\n */\n\nvar KanbanTouch =\n/** @class */\nfunction () {\n  /**\n   * Constructor for touch module\n   *\n   * @param {Kanban} parent Accepts the kanban instance\n   * @private\n   */\n  function KanbanTouch(parent) {\n    this.parent = parent;\n    this.tabHold = false;\n  }\n\n  KanbanTouch.prototype.wireTouchEvents = function () {\n    this.element = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n    this.touchObj = new Touch(this.element, {\n      tapHold: this.tapHoldHandler.bind(this)\n    });\n  };\n\n  KanbanTouch.prototype.tapHoldHandler = function (e) {\n    this.tabHold = true;\n    var target = closest(e.originalEvent.target, '.' + cls.CARD_CLASS);\n\n    if (target && this.parent.cardSettings.selectionType === 'Multiple') {\n      this.parent.actionModule.cardSelection(target, true, false);\n\n      if (!this.mobilePopup) {\n        this.renderMobilePopup();\n        this.mobilePopup.show();\n      }\n\n      this.updatePopupContent();\n    }\n  };\n\n  KanbanTouch.prototype.renderMobilePopup = function () {\n    if (this.parent.cardSettings.selectionType === 'Multiple') {\n      var mobilePopupWrapper = createElement('div', {\n        className: cls.POPUP_WRAPPER_CLASS + ' e-popup-close',\n        innerHTML: \"<div class=\\\"\" + cls.POPUP_HEADER_CLASS + \"\\\"><button class=\\\"\" + cls.CLOSE_CLASS + \"\\\"></button></div>\" + (\"<div class=\\\"\" + cls.POPUP_CONTENT_CLASS + \"\\\"></div>\")\n      });\n      document.body.appendChild(mobilePopupWrapper);\n      addClass([mobilePopupWrapper], cls.DEVICE_CLASS);\n      this.mobilePopup = new Popup(mobilePopupWrapper, {\n        targetType: 'container',\n        enableRtl: this.parent.enableRtl,\n        hideAnimation: {\n          name: 'ZoomOut'\n        },\n        showAnimation: {\n          name: 'ZoomIn'\n        },\n        collision: {\n          X: 'fit',\n          Y: 'fit'\n        },\n        position: {\n          X: 'left',\n          Y: 'top'\n        },\n        viewPortElement: document.body,\n        zIndex: 1004,\n        close: this.popupClose.bind(this)\n      });\n      var closeIcon = this.mobilePopup.element.querySelector('.' + cls.CLOSE_CLASS);\n      var buttonObj = new Button({\n        cssClass: 'e-flat e-round e-small',\n        enableRtl: this.parent.enableRtl,\n        iconCss: cls.ICON_CLASS + ' ' + cls.CLOSE_ICON_CLASS\n      });\n      buttonObj.appendTo(closeIcon);\n      buttonObj.isStringTemplate = true;\n      EventHandler.add(closeIcon, 'click', this.closeClick, this);\n    }\n  };\n\n  KanbanTouch.prototype.getPopupContent = function () {\n    var popupContent;\n    var selectedCards = this.parent.getSelectedCards();\n\n    if (selectedCards.length > 1) {\n      popupContent = '(' + selectedCards.length + ') ' + this.parent.localeObj.getConstant('cardsSelected');\n    } else if (selectedCards.length === 1) {\n      popupContent = ' ' + this.parent.getCardDetails(selectedCards[0])[this.parent.cardSettings.headerField];\n    }\n\n    return popupContent;\n  };\n\n  KanbanTouch.prototype.updatePopupContent = function () {\n    if (!this.mobilePopup) {\n      return;\n    }\n\n    var popupContent = this.getPopupContent();\n\n    if (popupContent) {\n      this.mobilePopup.element.querySelector('.' + cls.POPUP_CONTENT_CLASS).textContent = popupContent;\n    } else {\n      this.mobilePopup.hide();\n    }\n  };\n\n  KanbanTouch.prototype.closeClick = function () {\n    this.parent.touchModule.mobilePopup.hide();\n  };\n\n  KanbanTouch.prototype.popupClose = function () {\n    this.popupDestroy();\n  };\n\n  KanbanTouch.prototype.popupDestroy = function () {\n    if (this.mobilePopup && this.mobilePopup.element) {\n      var instance = this.mobilePopup.element.querySelector('.e-control.e-btn').ej2_instances[0];\n\n      if (instance) {\n        instance.destroy();\n      }\n\n      this.mobilePopup.destroy();\n      remove(this.mobilePopup.element);\n      this.mobilePopup = null;\n    }\n  };\n\n  KanbanTouch.prototype.unWireTouchEvents = function () {\n    if (this.touchObj) {\n      this.touchObj.destroy();\n    }\n\n    this.touchObj = null;\n    this.element = null;\n  };\n\n  KanbanTouch.prototype.destroy = function () {\n    this.popupDestroy();\n    this.unWireTouchEvents();\n    this.tabHold = false;\n  };\n\n  return KanbanTouch;\n}();\n\nexport { KanbanTouch };","map":{"version":3,"sources":["/Users/altynbekkuat/Desktop/reactAnalyt/node_modules/@syncfusion/ej2-kanban/src/kanban/actions/touch.js"],"names":["Touch","EventHandler","remove","addClass","createElement","closest","Popup","Button","cls","KanbanTouch","parent","tabHold","prototype","wireTouchEvents","element","querySelector","CONTENT_CLASS","touchObj","tapHold","tapHoldHandler","bind","e","target","originalEvent","CARD_CLASS","cardSettings","selectionType","actionModule","cardSelection","mobilePopup","renderMobilePopup","show","updatePopupContent","mobilePopupWrapper","className","POPUP_WRAPPER_CLASS","innerHTML","POPUP_HEADER_CLASS","CLOSE_CLASS","POPUP_CONTENT_CLASS","document","body","appendChild","DEVICE_CLASS","targetType","enableRtl","hideAnimation","name","showAnimation","collision","X","Y","position","viewPortElement","zIndex","close","popupClose","closeIcon","buttonObj","cssClass","iconCss","ICON_CLASS","CLOSE_ICON_CLASS","appendTo","isStringTemplate","add","closeClick","getPopupContent","popupContent","selectedCards","getSelectedCards","length","localeObj","getConstant","getCardDetails","headerField","textContent","hide","touchModule","popupDestroy","instance","ej2_instances","destroy","unWireTouchEvents"],"mappings":"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","sourcesContent":["import { Touch, EventHandler, remove, addClass, createElement, closest } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport * as cls from '../base/css-constant';\n/**\n * Kanban touch module\n */\nvar KanbanTouch = /** @class */ (function () {\n    /**\n     * Constructor for touch module\n     *\n     * @param {Kanban} parent Accepts the kanban instance\n     * @private\n     */\n    function KanbanTouch(parent) {\n        this.parent = parent;\n        this.tabHold = false;\n    }\n    KanbanTouch.prototype.wireTouchEvents = function () {\n        this.element = this.parent.element.querySelector('.' + cls.CONTENT_CLASS);\n        this.touchObj = new Touch(this.element, { tapHold: this.tapHoldHandler.bind(this) });\n    };\n    KanbanTouch.prototype.tapHoldHandler = function (e) {\n        this.tabHold = true;\n        var target = closest(e.originalEvent.target, '.' + cls.CARD_CLASS);\n        if (target && this.parent.cardSettings.selectionType === 'Multiple') {\n            this.parent.actionModule.cardSelection(target, true, false);\n            if (!this.mobilePopup) {\n                this.renderMobilePopup();\n                this.mobilePopup.show();\n            }\n            this.updatePopupContent();\n        }\n    };\n    KanbanTouch.prototype.renderMobilePopup = function () {\n        if (this.parent.cardSettings.selectionType === 'Multiple') {\n            var mobilePopupWrapper = createElement('div', {\n                className: cls.POPUP_WRAPPER_CLASS + ' e-popup-close',\n                innerHTML: \"<div class=\\\"\" + cls.POPUP_HEADER_CLASS + \"\\\"><button class=\\\"\" + cls.CLOSE_CLASS + \"\\\"></button></div>\" +\n                    (\"<div class=\\\"\" + cls.POPUP_CONTENT_CLASS + \"\\\"></div>\")\n            });\n            document.body.appendChild(mobilePopupWrapper);\n            addClass([mobilePopupWrapper], cls.DEVICE_CLASS);\n            this.mobilePopup = new Popup(mobilePopupWrapper, {\n                targetType: 'container',\n                enableRtl: this.parent.enableRtl,\n                hideAnimation: { name: 'ZoomOut' },\n                showAnimation: { name: 'ZoomIn' },\n                collision: { X: 'fit', Y: 'fit' },\n                position: { X: 'left', Y: 'top' },\n                viewPortElement: document.body,\n                zIndex: 1004,\n                close: this.popupClose.bind(this)\n            });\n            var closeIcon = this.mobilePopup.element.querySelector('.' + cls.CLOSE_CLASS);\n            var buttonObj = new Button({\n                cssClass: 'e-flat e-round e-small',\n                enableRtl: this.parent.enableRtl,\n                iconCss: cls.ICON_CLASS + ' ' + cls.CLOSE_ICON_CLASS\n            });\n            buttonObj.appendTo(closeIcon);\n            buttonObj.isStringTemplate = true;\n            EventHandler.add(closeIcon, 'click', this.closeClick, this);\n        }\n    };\n    KanbanTouch.prototype.getPopupContent = function () {\n        var popupContent;\n        var selectedCards = this.parent.getSelectedCards();\n        if (selectedCards.length > 1) {\n            popupContent = '(' + selectedCards.length + ') ' + this.parent.localeObj.getConstant('cardsSelected');\n        }\n        else if (selectedCards.length === 1) {\n            popupContent = ' ' + this.parent.getCardDetails(selectedCards[0])[this.parent.cardSettings.headerField];\n        }\n        return popupContent;\n    };\n    KanbanTouch.prototype.updatePopupContent = function () {\n        if (!this.mobilePopup) {\n            return;\n        }\n        var popupContent = this.getPopupContent();\n        if (popupContent) {\n            this.mobilePopup.element.querySelector('.' + cls.POPUP_CONTENT_CLASS).textContent = popupContent;\n        }\n        else {\n            this.mobilePopup.hide();\n        }\n    };\n    KanbanTouch.prototype.closeClick = function () {\n        this.parent.touchModule.mobilePopup.hide();\n    };\n    KanbanTouch.prototype.popupClose = function () {\n        this.popupDestroy();\n    };\n    KanbanTouch.prototype.popupDestroy = function () {\n        if (this.mobilePopup && this.mobilePopup.element) {\n            var instance = this.mobilePopup.element.querySelector('.e-control.e-btn').ej2_instances[0];\n            if (instance) {\n                instance.destroy();\n            }\n            this.mobilePopup.destroy();\n            remove(this.mobilePopup.element);\n            this.mobilePopup = null;\n        }\n    };\n    KanbanTouch.prototype.unWireTouchEvents = function () {\n        if (this.touchObj) {\n            this.touchObj.destroy();\n        }\n        this.touchObj = null;\n        this.element = null;\n    };\n    KanbanTouch.prototype.destroy = function () {\n        this.popupDestroy();\n        this.unWireTouchEvents();\n        this.tabHold = false;\n    };\n    return KanbanTouch;\n}());\nexport { KanbanTouch };\n"]},"metadata":{},"sourceType":"module"}