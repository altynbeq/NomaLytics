{"ast":null,"code":"import * as CLS from '../base/classes';\nimport * as events from '../base/constant';\nimport { read, paste, Search, filter, Download, Delete } from '../common/operations';\nimport { getValue, setValue, isNullOrUndefined as isNOU, matches, select, createElement } from '@syncfusion/ej2-base';\nimport { closest, detach } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { createDialog } from '../pop-up/dialog';\n/**\n * Utility file for common actions\n *\n * @param {HTMLLIElement} node - specifies the node.\n * @param {Object} data - specifies the data.\n * @param {IFileManager} instance - specifies the control instance.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\nexport function updatePath(node, data, instance) {\n  var text = getValue('name', data);\n  var id = node.getAttribute('data-id');\n  var newText = isNOU(id) ? text : id;\n  instance.setProperties({\n    path: getPath(node, newText, instance.hasId)\n  }, true);\n  instance.pathId = getPathId(node);\n  instance.pathNames = getPathNames(node, text);\n}\n/**\n * Functions for get path in FileManager\n *\n * @param {Element | Node} element - specifies the element.\n * @param {string} text - specifies the text.\n * @param {boolean} hasId - specifies the id.\n * @returns {string} returns the path.\n * @private\n */\n\nexport function getPath(element, text, hasId) {\n  var matched = getParents(element, text, false, hasId);\n  var path = hasId ? '' : '/';\n  var len = matched.length - (hasId ? 1 : 2);\n\n  for (var i = len; i >= 0; i--) {\n    path += matched[i] + '/';\n  }\n\n  return path;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} node - specifies the node element.\n * @returns {string[]} returns the path ids.\n * @private\n */\n\nexport function getPathId(node) {\n  var matched = getParents(node, node.getAttribute('data-uid'), true);\n  var ids = [];\n\n  for (var i = matched.length - 1; i >= 0; i--) {\n    ids.push(matched[i]);\n  }\n\n  return ids;\n}\n/**\n * Functions for get path names in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @returns {string[]} returns the path names.\n * @private\n */\n\nexport function getPathNames(element, text) {\n  var matched = getParents(element, text, false);\n  var names = [];\n\n  for (var i = matched.length - 1; i >= 0; i--) {\n    names.push(matched[i]);\n  }\n\n  return names;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @param {boolean} isId - specifies the id.\n * @param {boolean} hasId - checks the id exists.\n * @returns {string[]} returns parent element.\n * @private\n */\n\nexport function getParents(element, text, isId, hasId) {\n  var matched = [text];\n  var el = element.parentNode;\n\n  while (!isNOU(el)) {\n    if (matches(el, '.' + CLS.LIST_ITEM)) {\n      var parentText = isId ? el.getAttribute('data-uid') : hasId ? el.getAttribute('data-id') : select('.' + CLS.LIST_TEXT, el).textContent;\n      matched.push(parentText);\n    }\n\n    el = el.parentNode;\n\n    if (el.classList.contains(CLS.TREE_VIEW)) {\n      break;\n    }\n  }\n\n  return matched;\n}\n/**\n * Functions for generate path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\nexport function generatePath(parent) {\n  var key = parent.hasId ? 'id' : 'name';\n  var newPath = parent.hasId ? '' : '/';\n  var i = parent.hasId ? 0 : 1;\n\n  for (i; i < parent.pathId.length; i++) {\n    // eslint-disable-next-line\n    var data = getValue(parent.pathId[i], parent.feParent);\n    newPath += getValue(key, data) + '/';\n  }\n\n  parent.setProperties({\n    path: newPath\n  }, true);\n}\n/**\n * Functions for remove active element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\nexport function removeActive(parent) {\n  if (parent.isCut) {\n    removeBlur(parent);\n    parent.selectedNodes = [];\n    parent.actionRecords = [];\n    parent.enablePaste = false;\n    parent.notify(events.hidePaste, {});\n  }\n}\n/**\n * Selects active element in File Manager\n *\n * @param {string} action - specifies the action.\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {boolean} - returns active element.\n * @private\n */\n\nexport function activeElement(action, parent) {\n  parent.isSearchCut = false;\n  parent.actionRecords = [];\n  parent.activeElements = [];\n  parent.notify(events.cutCopyInit, {});\n\n  if (parent.activeElements.length === 0) {\n    return false;\n  }\n\n  removeBlur(parent);\n  var blurEle = parent.activeElements;\n\n  if (parent.activeModule !== 'navigationpane') {\n    parent.targetPath = parent.path;\n  } else {\n    parent.targetPath = getParentPath(parent.path);\n  }\n\n  var i = 0;\n\n  if (blurEle) {\n    getModule(parent, blurEle[0]);\n\n    if (action === 'cut') {\n      while (i < blurEle.length) {\n        addBlur(blurEle[i]);\n        i++;\n      }\n    }\n  }\n\n  i = 0;\n  parent.selectedNodes = [];\n  parent.enablePaste = true;\n  parent.notify(events.showPaste, {});\n\n  while (i < parent.activeRecords.length) {\n    parent.actionRecords.push(parent.activeRecords[i]);\n    parent.selectedNodes.push(getValue('name', parent.activeRecords[i]));\n    i++;\n  }\n\n  if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) && parent.activeModule !== 'navigationpane') {\n    parent.selectedNodes = [];\n    parent.isSearchCut = true;\n    var i_1 = 0;\n\n    while (i_1 < parent.selectedItems.length) {\n      parent.selectedNodes.push(parent.selectedItems[i_1]);\n      i_1++;\n    }\n  }\n\n  return true;\n}\n/**\n * Adds blur to the elements\n *\n * @param {Element} nodes - specifies the nodes.\n * @returns {void}\n * @private\n */\n\nexport function addBlur(nodes) {\n  nodes.classList.add(CLS.BLUR);\n}\n/**\n * Removes blur from elements\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} hover - specifies the hover string.\n * @returns {void}\n * @private\n */\n\nexport function removeBlur(parent, hover) {\n  var blurEle = !hover ? parent.element.querySelectorAll('.' + CLS.BLUR) : parent.element.querySelectorAll('.' + CLS.HOVER);\n  var i = 0;\n\n  while (i < blurEle.length) {\n    blurEle[i].classList.remove(!hover ? CLS.BLUR : CLS.HOVER);\n    i++;\n  }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\n\nexport function getModule(parent, element) {\n  if (element) {\n    if (element.classList.contains(CLS.ROW)) {\n      parent.activeModule = 'detailsview';\n    } else if (closest(element, '.' + CLS.LARGE_ICON)) {\n      parent.activeModule = 'largeiconsview';\n    } else {\n      parent.activeModule = 'navigationpane';\n    }\n  }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} value - specifies the value.\n * @param {boolean} isLayoutChange - specifies the layout change.\n * @returns {void}\n * @private\n */\n\nexport function searchWordHandler(parent, value, isLayoutChange) {\n  var searchWord;\n\n  if (value.length === 0 && !parent.isFiltered) {\n    parent.notify(events.pathColumn, {\n      args: parent\n    });\n  }\n\n  if (parent.searchSettings.filterType === 'startsWith') {\n    searchWord = value + '*';\n  } else if (parent.searchSettings.filterType === 'endsWith') {\n    searchWord = '*' + value;\n  } else {\n    searchWord = '*' + value + '*';\n  }\n\n  parent.searchWord = searchWord;\n  parent.itemData = [getPathObject(parent)];\n\n  if (value.length > 0) {\n    var caseSensitive = parent.searchSettings.ignoreCase;\n    var hiddenItems = parent.showHiddenItems;\n    Search(parent, isLayoutChange ? events.layoutChange : events.search, parent.path, searchWord, hiddenItems, !caseSensitive);\n  } else {\n    if (!parent.isFiltered) {\n      if (parent.isSortByClicked) {\n        parent.notify(events.layoutChange, {\n          files: parent.largeiconsviewModule.items\n        });\n        parent.isSortByClicked = false;\n      } else {\n        read(parent, isLayoutChange ? events.layoutChange : events.search, parent.path);\n      }\n    } else {\n      filter(parent, events.layoutChange);\n    }\n  }\n}\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} view - specifies the view.\n * @returns {void}\n * @private\n */\n\nexport function updateLayout(parent, view) {\n  parent.setProperties({\n    view: view\n  }, true);\n\n  if (parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) {\n    parent.layoutSelectedItems = parent.selectedItems;\n  }\n\n  var searchWord = '';\n\n  if (parent.breadcrumbbarModule.searchObj.element.value) {\n    searchWord = parent.breadcrumbbarModule.searchObj.element.value;\n  }\n\n  parent.isLayoutChange = true;\n  searchWordHandler(parent, searchWord, true);\n}\n/* istanbul ignore next */\n\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\n\nexport function getTargetModule(parent, element) {\n  var tartgetModule = '';\n\n  if (element) {\n    if (closest(element, '.e-gridcontent')) {\n      tartgetModule = 'detailsview';\n    } else if (closest(element, '.' + CLS.LARGE_ICONS)) {\n      tartgetModule = 'largeiconsview';\n    } else if (element.classList.contains('e-fullrow') || element.classList.contains('e-icon-expandable')) {\n      tartgetModule = 'navigationpane';\n    } else if (closest(element, '.e-address-list-item')) {\n      tartgetModule = 'breadcrumbbar';\n    } else {\n      tartgetModule = '';\n    }\n  }\n\n  parent.targetModule = tartgetModule;\n}\n/* istanbul ignore next */\n\n/**\n * refresh the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\nexport function refresh(parent) {\n  parent.itemData = [getPathObject(parent)];\n\n  if (!hasReadAccess(parent.itemData[0])) {\n    createDeniedDialog(parent, parent.itemData[0], events.permissionRead);\n  } else {\n    read(parent, events.refreshEnd, parent.path);\n  }\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\nexport function openAction(parent) {\n  read(parent, events.openEnd, parent.path);\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {Object} - returns the path data.\n * @private\n */\n// eslint-disable-next-line\n\nexport function getPathObject(parent) {\n  return getValue(parent.pathId[parent.pathId.length - 1], parent.feParent);\n}\n/**\n * Copy files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\nexport function copyFiles(parent) {\n  if (!activeElement('copy', parent)) {\n    return;\n  } else {\n    parent.fileAction = 'copy';\n  }\n}\n/**\n * Cut files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\nexport function cutFiles(parent) {\n  if (!activeElement('cut', parent)) {\n    return;\n  } else {\n    parent.isCut = true;\n    parent.fileAction = 'move';\n  }\n}\n/**\n * To add class for fileType\n *\n * @param {Object} file - specifies the file.\n * @returns {string} - returns the file type.\n * @private\n */\n// eslint-disable-next-line\n\nexport function fileType(file) {\n  var isFile = getValue('isFile', file);\n\n  if (!isFile) {\n    return CLS.FOLDER;\n  }\n\n  var imageFormat = ['bmp', 'dib', 'jpg', 'jpeg', 'jpe', 'jfif', 'gif', 'tif', 'tiff', 'png', 'ico'];\n  var audioFormat = ['mp3', 'wav', 'aac', 'ogg', 'wma', 'aif', 'fla', 'm4a'];\n  var videoFormat = ['webm', 'mkv', 'flv', 'vob', 'ogv', 'ogg', 'avi', 'wmv', 'mp4', '3gp'];\n  var knownFormat = ['css', 'exe', 'html', 'js', 'msi', 'pdf', 'pptx', 'ppt', 'rar', 'zip', 'txt', 'docx', 'doc', 'xlsx', 'xls', 'xml', 'rtf', 'php'];\n  var filetype = getValue('type', file);\n  filetype = filetype.toLowerCase();\n\n  if (filetype.indexOf('.') !== -1) {\n    filetype = filetype.split('.').join('');\n  }\n\n  var iconType;\n\n  if (imageFormat.indexOf(filetype) !== -1) {\n    iconType = CLS.ICON_IMAGE;\n  } else if (audioFormat.indexOf(filetype) !== -1) {\n    iconType = CLS.ICON_MUSIC;\n  } else if (videoFormat.indexOf(filetype) !== -1) {\n    iconType = CLS.ICON_VIDEO;\n  } else if (knownFormat.indexOf(filetype) !== -1) {\n    iconType = 'e-fe-' + filetype;\n  } else {\n    iconType = 'e-fe-unknown e-fe-' + filetype;\n  }\n\n  return iconType;\n}\n/* istanbul ignore next */\n\n/**\n * To get the image URL\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} item - specifies the item.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\n\nexport function getImageUrl(parent, item) {\n  var baseUrl = parent.ajaxSettings.getImageUrl ? parent.ajaxSettings.getImageUrl : parent.ajaxSettings.url;\n  var imgUrl;\n  var fileName = encodeURIComponent(getValue('name', item));\n  var fPath = getValue('filterPath', item);\n\n  if (parent.hasId) {\n    var imgId = getValue('id', item);\n    imgUrl = baseUrl + '?path=' + parent.path + '&id=' + imgId;\n  } else if (!isNOU(fPath)) {\n    imgUrl = baseUrl + '?path=' + fPath.replace(/\\\\/g, '/') + fileName;\n  } else {\n    imgUrl = baseUrl + '?path=' + parent.path + fileName;\n  }\n\n  imgUrl = imgUrl + '&time=' + new Date().getTime().toString();\n  var eventArgs = {\n    fileDetails: [item],\n    imageUrl: imgUrl\n  };\n  parent.trigger('beforeImageLoad', eventArgs);\n  return eventArgs.imageUrl;\n}\n/* istanbul ignore next */\n\n/**\n * Gets the full path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {string} path - specifies the path.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\n\nexport function getFullPath(parent, data, path) {\n  var filePath = getValue(parent.hasId ? 'id' : 'name', data) + '/';\n  var fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', data);\n\n  if (!isNOU(fPath)) {\n    return fPath.replace(/\\\\/g, '/') + filePath;\n  } else {\n    return path + filePath;\n  }\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @returns {string} - returns the name.\n * @private\n */\n// eslint-disable-next-line\n\nexport function getName(parent, data) {\n  var name = getValue('name', data);\n  var fPath = getValue('filterPath', data);\n\n  if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) && !isNOU(fPath)) {\n    fPath = fPath.replace(/\\\\/g, '/');\n    name = fPath.replace(parent.path, '') + name;\n  }\n\n  return name;\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object[]} items - specifies the item elements.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\n\nexport function getSortedData(parent, items) {\n  if (items.length === 0) {\n    return items;\n  }\n\n  var query;\n\n  if (parent.sortOrder !== 'None') {\n    query = new Query().sortBy(parent.sortBy, parent.sortOrder.toLowerCase(), true).group('isFile');\n  } else {\n    query = new Query().group('isFile');\n  } // eslint-disable-next-line\n\n\n  var lists = new DataManager(items).executeLocal(query);\n  return getValue('records', lists);\n}\n/**\n * Gets the data object\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} key - specifies the key.\n * @param {string} value - specifies the value.\n * @returns {Object} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\n\nexport function getObject(parent, key, value) {\n  // eslint-disable-next-line\n  var currFiles = getValue(parent.pathId[parent.pathId.length - 1], parent.feFiles);\n  var query = new Query().where(key, 'equal', value); // eslint-disable-next-line\n\n  var lists = new DataManager(currFiles).executeLocal(query);\n  return lists[0];\n}\n/**\n * Creates empty element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLElement} element - specifies the element.\n * @param {ReadArgs | SearchArgs} args - specifies the args.\n * @returns {void}\n * @private\n */\n\nexport function createEmptyElement(parent, element, args) {\n  var top;\n  var layoutElement = select('#' + parent.element.id + CLS.LAYOUT_ID, parent.element);\n  var addressBarHeight = select('#' + parent.element.id + CLS.BREADCRUMBBAR_ID, layoutElement).offsetHeight;\n  top = layoutElement.offsetHeight - addressBarHeight;\n\n  if (parent.view === 'Details') {\n    top = top - select('.' + CLS.GRID_HEADER, layoutElement).offsetHeight;\n  }\n\n  if (isNOU(element.querySelector('.' + CLS.EMPTY))) {\n    var emptyDiv = createElement('div', {\n      className: CLS.EMPTY\n    });\n    var emptyFolder = createElement('div', {\n      className: CLS.LARGE_EMPTY_FOLDER\n    });\n    var emptyEle = createElement('div', {\n      className: CLS.EMPTY_CONTENT\n    });\n    var dragFile = createElement('div', {\n      className: CLS.EMPTY_INNER_CONTENT\n    });\n\n    if (parent.view === 'Details') {\n      element.querySelector('.' + CLS.GRID_VIEW).appendChild(emptyDiv);\n    } else {\n      element.appendChild(emptyDiv);\n    }\n\n    emptyDiv.appendChild(emptyFolder);\n    emptyDiv.appendChild(emptyEle);\n    emptyDiv.appendChild(dragFile);\n  }\n\n  if (element.querySelector('.' + CLS.EMPTY)) {\n    if (!isNOU(args.error)) {\n      element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Access-Denied');\n      element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Access-Details');\n    } else if (parent.isFiltered) {\n      element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Empty');\n      element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Key');\n    } else if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n      element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Search-Empty');\n      element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Search-Key');\n    } else {\n      element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Folder-Empty');\n      element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'File-Upload');\n    }\n  }\n\n  var eDiv = select('.' + CLS.EMPTY, element);\n  top = (top - eDiv.offsetHeight) / 2;\n  eDiv.style.marginTop = top + 'px';\n}\n/**\n * Gets the directories\n *\n * @param {Object[]} files - specifies the file object.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\n\nexport function getDirectories(files) {\n  return new DataManager(files).executeLocal(new Query().where(events.isFile, 'equal', false, false));\n}\n/**\n * set the Node ID\n *\n * @param {ReadArgs} result - specifies the result.\n * @param {string} rootId - specifies the rootId.\n * @returns {void}\n * @private\n */\n\nexport function setNodeId(result, rootId) {\n  // eslint-disable-next-line\n  var dirs = getDirectories(result.files);\n\n  for (var i = 0, len = dirs.length; i < len; i++) {\n    setValue('_fm_id', rootId + '_' + i, dirs[i]);\n  }\n}\n/**\n * set the date object\n *\n * @param {Object[]} args - specifies the file object.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\nexport function setDateObject(args) {\n  for (var i = 0; i < args.length; i++) {\n    setValue('_fm_created', new Date(getValue('dateCreated', args[i])), args[i]);\n    setValue('_fm_modified', new Date(getValue('dateModified', args[i])), args[i]);\n  }\n}\n/**\n * get the locale text\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text.\n * @returns {string} - returns the locale text.\n * @private\n */\n\nexport function getLocaleText(parent, text) {\n  var locale = parent.localeObj.getConstant(text);\n  return locale === '' ? text : locale;\n}\n/**\n * get the CSS class\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} css - specifies the css.\n * @returns {string} - returns the css classes.\n * @private\n */\n\nexport function getCssClass(parent, css) {\n  var cssClass = parent.cssClass;\n  cssClass = isNOU(cssClass) || cssClass === '' ? css : cssClass + ' ' + css;\n  return cssClass;\n}\n/**\n * sort on click\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {MenuEventArgs} args - specifies the menu event arguements.\n * @returns {void}\n * @private\n */\n\nexport function sortbyClickHandler(parent, args) {\n  var tick;\n  parent.isSortByClicked = true;\n\n  if (args.item.id.indexOf('ascending') !== -1 || args.item.id.indexOf('descending') !== -1 || args.item.id.indexOf('none') !== -1) {\n    tick = true;\n  } else {\n    tick = false;\n  }\n\n  if (!tick) {\n    parent.sortBy = getSortField(args.item.id);\n  } else {\n    parent.sortOrder = getSortField(args.item.id);\n  }\n\n  parent.itemData = [getPathObject(parent)];\n\n  if (parent.view === 'Details') {\n    if (parent.isMobile) {\n      updateLayout(parent, 'Details');\n    } else {\n      parent.notify(events.sortColumn, {\n        module: 'detailsview'\n      });\n    }\n  }\n\n  if (parent.view === 'LargeIcons') {\n    updateLayout(parent, 'LargeIcons');\n  }\n\n  parent.notify(events.sortByChange, {});\n}\n/**\n * Gets the sorted fields\n *\n * @param {string} id - specifies the id.\n * @returns {string} - returns the sorted fields\n * @private\n */\n\nexport function getSortField(id) {\n  var text = id.substring(id.lastIndexOf('_') + 1);\n  var field = text;\n\n  switch (text) {\n    case 'date':\n      field = '_fm_modified';\n      break;\n\n    case 'ascending':\n      field = 'Ascending';\n      break;\n\n    case 'descending':\n      field = 'Descending';\n      break;\n\n    case 'none':\n      field = 'None';\n      break;\n  }\n\n  return field;\n}\n/**\n * Sets the next path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\n\nexport function setNextPath(parent, path) {\n  var currfolders = path.split('/');\n  var folders = parent.originalPath.split('/'); // eslint-disable-next-line\n\n  var root = getValue(parent.pathId[0], parent.feParent);\n  var key = isNOU(getValue('id', root)) ? 'name' : 'id';\n\n  for (var i = currfolders.length - 1, len = folders.length - 1; i < len; i++) {\n    var eventName = folders[i + 1] === '' ? events.finalizeEnd : events.initialEnd;\n    var newPath = folders[i] === '' ? '/' : parent.path + folders[i] + '/'; // eslint-disable-next-line\n\n    var data = getObject(parent, key, folders[i]);\n    var id = getValue('_fm_id', data);\n    parent.setProperties({\n      path: newPath\n    }, true);\n    parent.pathId.push(id);\n    parent.itemData = [data];\n    parent.pathNames.push(getValue('name', data));\n    read(parent, eventName, parent.path);\n    break;\n  }\n}\n/**\n * Opens the searched folder\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\nexport function openSearchFolder(parent, data) {\n  parent.notify(events.clearPathInit, {\n    selectedNode: parent.pathId[parent.pathId.length - 1]\n  });\n  parent.originalPath = getFullPath(parent, data, parent.path);\n  read(parent, parent.path !== parent.originalPath ? events.initialEnd : events.finalizeEnd, parent.path);\n}\n/**\n * Paste handling function\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\nexport function pasteHandler(parent) {\n  parent.isDragDrop = false;\n\n  if (parent.selectedNodes.length !== 0 && parent.enablePaste) {\n    var path = parent.folderPath === '' ? parent.path : parent.folderPath; // eslint-disable-next-line\n\n    var subFolder = validateSubFolder(parent, parent.actionRecords, path, parent.path);\n\n    if (!subFolder) {\n      if (parent.fileAction === 'move' && parent.targetPath !== path || parent.fileAction === 'copy') {\n        parent.notify(events.pasteInit, {});\n        paste(parent, parent.targetPath, parent.selectedNodes, path, parent.fileAction, [], parent.actionRecords);\n      } else {\n        parent.enablePaste = false;\n        parent.notify(events.hidePaste, {});\n        removeBlur(parent);\n      }\n    }\n  }\n}\n/**\n * Validates the sub folders\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {'{ [key: string]: Object; }[]'} data - specifies the data.\n * @param {string} dropPath - specifies the drop path.\n * @param {string} dragPath - specifies the drag path.\n * @returns {boolean} - returns the validated sub folder.\n * @private\n */\n// eslint-disable-next-line\n\nexport function validateSubFolder(parent, data, dropPath, dragPath) {\n  var subFolder = false;\n\n  for (var i = 0; i < data.length; i++) {\n    if (!getValue('isFile', data[i])) {\n      var tempTarget = getFullPath(parent, data[i], dragPath);\n\n      if (dropPath.indexOf(tempTarget) === 0) {\n        var result = {\n          files: null,\n          error: {\n            code: '402',\n            message: getLocaleText(parent, 'Sub-Folder-Error'),\n            fileExists: null\n          }\n        };\n        createDialog(parent, 'Error', result);\n        subFolder = true;\n        break;\n      }\n    } else {\n      var srcData = parent.dragNodes[i];\n      var len = 0;\n\n      if (srcData) {\n        len = srcData.lastIndexOf('/');\n      }\n\n      var path = '';\n\n      if (len > 0) {\n        path = dragPath + srcData.substring(0, len + 1);\n      }\n\n      if (path === dropPath) {\n        var result = {\n          files: null,\n          error: {\n            code: '402',\n            message: getLocaleText(parent, 'Same-Folder-Error'),\n            fileExists: null\n          }\n        };\n        createDialog(parent, 'Error', result);\n        subFolder = true;\n        break;\n      }\n    }\n  }\n\n  return subFolder;\n}\n/**\n * Validates the drop handler\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\nexport function dropHandler(parent) {\n  parent.isDragDrop = true;\n\n  if (parent.dragData.length !== 0) {\n    parent.dragPath = parent.dragPath.replace(/\\\\/g, '/');\n    parent.dropPath = parent.dropPath.replace(/\\\\/g, '/');\n    var subFolder = validateSubFolder(parent, parent.dragData, parent.dropPath, parent.dragPath);\n\n    if (!subFolder && parent.dragPath !== parent.dropPath) {\n      parent.itemData = [parent.dropData];\n      paste(parent, parent.dragPath, parent.dragNodes, parent.dropPath, 'move', [], parent.dragData);\n      parent.notify(events.pasteInit, {});\n    }\n  }\n}\n/**\n * Gets the parent path\n *\n * @param {string} oldPath - specifies the old path.\n * @returns {string} - returns the parent path.\n * @private\n */\n\nexport function getParentPath(oldPath) {\n  var path = oldPath.split('/');\n  var newPath = path[0] + '/';\n\n  for (var i = 1; i < path.length - 2; i++) {\n    newPath += path[i] + '/';\n  }\n\n  return newPath;\n}\n/**\n * Gets the directory path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {ReadArgs} args - returns the read arguements.\n * @returns {string} - returns the directory path\n * @private\n */\n\nexport function getDirectoryPath(parent, args) {\n  var filePath = getValue(parent.hasId ? 'id' : 'name', args.cwd) + '/';\n  var fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', args.cwd);\n\n  if (!isNOU(fPath)) {\n    if (fPath === '') {\n      return parent.hasId ? filePath : '/';\n    }\n\n    return fPath.replace(/\\\\/g, '/') + filePath;\n  } else {\n    return parent.path + filePath;\n  }\n}\n/**\n * Gets the do paste path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} operation - specifies the operations.\n * @param {ReadArgs} result - returns the result.\n * @returns {void}\n * @private\n */\n\nexport function doPasteUpdate(parent, operation, result) {\n  if (operation === 'move') {\n    if (!parent.isDragDrop) {\n      parent.enablePaste = false;\n      parent.notify(events.hidePaste, {});\n      parent.notify(events.cutEnd, result);\n    } else {\n      parent.notify(events.dragEnd, result);\n    }\n  }\n\n  if (parent.duplicateItems.length === 0) {\n    parent.pasteNodes = [];\n  }\n\n  var flag = false;\n\n  for (var count = 0; count < result.files.length && !flag; count++) {\n    parent.pasteNodes.push(result.files[count][parent.hasId ? 'id' : 'name']);\n\n    if (parent.isDragDrop) {\n      parent.droppedObjects.push(result.files[count]);\n    }\n  }\n\n  parent.duplicateItems = [];\n  parent.duplicateRecords = [];\n\n  if (parent.isDragDrop && !parent.isPasteError) {\n    parent.isDropEnd = true;\n  } else {\n    parent.isDropEnd = false;\n  }\n\n  if (!parent.isDragDrop || parent.path === parent.dragPath || parent.path === parent.dropPath || parent.isSearchDrag) {\n    parent.isPathDrag = false;\n    read(parent, events.pasteEnd, parent.path);\n  } else {\n    readDropPath(parent);\n  }\n\n  parent.trigger('success', {\n    action: operation,\n    result: result\n  });\n}\n/**\n * Reads the drop path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\nexport function readDropPath(parent) {\n  var pathId = getValue('_fm_id', parent.dropData);\n  parent.expandedId = pathId;\n  parent.itemData = [parent.dropData];\n\n  if (parent.isPathDrag) {\n    parent.notify(events.pathDrag, parent.itemData);\n  } else {\n    if (parent.navigationpaneModule) {\n      var node = select('[data-uid=\"' + pathId + '\"]', parent.navigationpaneModule.treeObj.element);\n      updatePath(node, parent.dropData, parent);\n    }\n\n    read(parent, events.dropPath, parent.dropPath);\n  }\n}\n/**\n * Gets the duplicated path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} name - specifies the name.\n * @returns {object} - returns the duplicated path.\n * @private\n */\n// eslint-disable-next-line\n\nexport function getDuplicateData(parent, name) {\n  // eslint-disable-next-line\n  var data = null; // eslint-disable-next-line\n\n  var records = parent.isDragDrop ? parent.dragData : parent.actionRecords;\n\n  for (var i = 0; i < records.length; i++) {\n    if (getValue('name', records[i]) === name) {\n      data = records[i];\n      break;\n    }\n  }\n\n  return data;\n}\n/**\n * Gets the create the virtual drag element\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\nexport function createVirtualDragElement(parent) {\n  parent.isSearchDrag = false;\n\n  if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n    parent.isSearchDrag = true;\n  }\n\n  if (parent.activeModule !== 'navigationpane') {\n    parent.dragNodes = [];\n    var i = 0;\n\n    while (i < parent.selectedItems.length) {\n      parent.dragNodes.push(parent.selectedItems[i]);\n      i++;\n    }\n\n    if (parent.selectedItems.length === 0 && parent.dragData && parent.dragData.length === 1) {\n      parent.dragNodes.push(getItemName(parent, parent.dragData[0]));\n    }\n  }\n\n  var cloneIcon = parent.createElement('div', {\n    className: 'e-fe-icon ' + fileType(parent.dragData[0])\n  });\n  var cloneName = parent.createElement('div', {\n    className: 'e-fe-name',\n    innerHTML: parent.dragData[0].name\n  });\n  var virtualEle = parent.createElement('div', {\n    className: 'e-fe-content'\n  });\n  virtualEle.appendChild(cloneIcon);\n  virtualEle.appendChild(cloneName);\n  var ele = parent.createElement('div', {\n    className: CLS.CLONE\n  });\n  ele.appendChild(virtualEle);\n\n  if (parent.dragNodes.length > 1) {\n    var badge = parent.createElement('span', {\n      className: 'e-fe-count',\n      innerHTML: parent.dragNodes.length.toString(10)\n    });\n    ele.appendChild(badge);\n  }\n\n  parent.virtualDragElement = ele;\n  parent.element.appendChild(parent.virtualDragElement);\n}\n/**\n * Drops the stop handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\n\nexport function dragStopHandler(parent, args) {\n  var dragArgs = args;\n  dragArgs.cancel = false;\n\n  if (parent.treeExpandTimer != null) {\n    window.clearTimeout(parent.treeExpandTimer);\n    parent.treeExpandTimer = null;\n  }\n\n  removeDropTarget(parent);\n  parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n  removeBlur(parent);\n  parent.uploadObj.dropArea = select('#' + parent.element.id + CLS.CONTENT_ID, parent.element);\n  var virtualEle = select('.' + CLS.CLONE, parent.element);\n\n  if (virtualEle) {\n    detach(virtualEle);\n  }\n\n  getTargetModule(parent, args.target);\n  parent.notify(events.dropInit, args);\n  removeBlur(parent, 'hover');\n  dragArgs.fileDetails = parent.dragData;\n  parent.trigger('fileDragStop', dragArgs, function (dragArgs) {\n    if (!dragArgs.cancel && !isNOU(parent.targetModule) && parent.targetModule !== '' && parent.dragCount > 2) {\n      dropHandler(parent);\n    }\n\n    parent.dragCount = 0;\n  });\n}\n/**\n * Drag the start handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {'DragEventArgs'} args - specifies the drag event arguements.\n * @param {Draggable} dragObj - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\n\nexport function dragStartHandler(parent, args, dragObj) {\n  var dragArgs = args;\n  dragArgs.cancel = false;\n  dragArgs.fileDetails = parent.dragData;\n  parent.dragCount = 0;\n  parent.droppedObjects = [];\n\n  if (!parent.allowDragAndDrop || parent.activeModule === 'navigationpane' && closest(args.element, 'li').getAttribute('data-uid') === parent.pathId[0]) {\n    dragArgs.cancel = true;\n  }\n\n  if (parent.activeModule === 'navigationpane' && parent.pathId.indexOf(closest(args.element, 'li').getAttribute('data-uid')) !== -1) {\n    parent.isPathDrag = true;\n  } else {\n    parent.isPathDrag = false;\n  }\n\n  removeBlur(parent);\n\n  if (dragArgs.cancel) {\n    dragObj.intDestroy(args.event);\n    dragCancel(parent);\n  } else if (!dragArgs.cancel) {\n    var i = 0;\n\n    while (i < parent.activeElements.length) {\n      addBlur(parent.activeElements[i]);\n      i++;\n    }\n\n    parent.trigger('fileDragStart', dragArgs, function (dragArgs) {\n      if (dragArgs.cancel) {\n        dragObj.intDestroy(args.event);\n        dragCancel(parent);\n      } else {\n        parent.uploadObj.dropArea = null;\n      }\n    });\n  }\n}\n/**\n * Drag the cancel handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\nexport function dragCancel(parent) {\n  removeBlur(parent);\n  var virtualEle = select('.' + CLS.CLONE, parent.element);\n\n  if (virtualEle) {\n    detach(virtualEle);\n  }\n}\n/**\n * Remove drop target handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\nexport function removeDropTarget(parent) {\n  removeItemClass(parent, CLS.DROP_FOLDER);\n  removeItemClass(parent, CLS.DROP_FILE);\n}\n/**\n * Remove item class handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} value - specifies the value.\n * @returns {void}\n * @private\n */\n\nexport function removeItemClass(parent, value) {\n  var ele = parent.element.querySelectorAll('.' + value);\n\n  for (var i = 0; i < ele.length; i++) {\n    ele[i].classList.remove(value);\n  }\n}\n/**\n * Dragging handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the arguements.\n * @returns {void}\n * @private\n */\n\nexport function draggingHandler(parent, args) {\n  var dragArgs = args;\n  dragArgs.fileDetails = parent.dragData;\n  var canDrop = false;\n  getTargetModule(parent, args.target);\n  removeDropTarget(parent);\n\n  if (parent.treeExpandTimer != null) {\n    window.clearTimeout(parent.treeExpandTimer);\n    parent.treeExpandTimer = null;\n  }\n\n  removeBlur(parent, 'hover');\n  var node = null;\n\n  if (parent.targetModule === 'navigationpane') {\n    node = closest(args.target, 'li');\n    node.classList.add(CLS.HOVER, CLS.DROP_FOLDER);\n    canDrop = true;\n    /* istanbul ignore next */\n\n    parent.treeExpandTimer = window.setTimeout(function () {\n      parent.notify(events.dragging, args);\n    }, 800);\n  } else if (parent.targetModule === 'detailsview') {\n    node = closest(args.target, 'tr');\n\n    if (node && node.querySelector('.' + CLS.FOLDER) && !node.classList.contains(CLS.BLUR)) {\n      node.classList.add(CLS.DROP_FOLDER);\n    } else if (node && !node.querySelector('.' + CLS.FOLDER) && !node.classList.contains(CLS.BLUR)) {\n      node.classList.add(CLS.DROP_FILE);\n    }\n\n    canDrop = true;\n  } else if (parent.targetModule === 'largeiconsview') {\n    node = closest(args.target, 'li');\n\n    if (node && node.querySelector('.' + CLS.FOLDER) && !node.classList.contains(CLS.BLUR)) {\n      node.classList.add(CLS.HOVER, CLS.DROP_FOLDER);\n    }\n\n    canDrop = true;\n    /* istanbul ignore next */\n  } else if (parent.targetModule === 'breadcrumbbar') {\n    canDrop = true;\n  }\n\n  parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n  parent.element.classList.add(canDrop ? 'e-fe-drop' : 'e-no-drop');\n  parent.dragCount = parent.dragCount + 1;\n  parent.trigger('fileDragging', dragArgs);\n}\n/**\n * Object to string handler\n *\n * @param {Object} data - specifies the data.\n * @returns {string} returns string converted from Object.\n * @private\n */\n// Ignored the message key value in permission object\n// eslint-disable-next-line\n\nexport function objectToString(data) {\n  var str = '';\n  var keys = Object.keys(data);\n\n  for (var i = 0; i < keys.length; i++) {\n    if (keys[i] !== 'message') {\n      str += (i === 0 ? '' : ', ') + keys[i] + ': ' + getValue(keys[i], data);\n    }\n  }\n\n  return str;\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {string} returns the item name.\n * @private\n */\n// eslint-disable-next-line\n\nexport function getItemName(parent, data) {\n  if (parent.hasId) {\n    return getValue('id', data);\n  }\n\n  return getName(parent, data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\nexport function updateRenamingData(parent, data) {\n  parent.itemData = [data];\n  parent.currentItemText = getValue('name', data);\n  parent.isFile = getValue('isFile', data);\n  parent.filterPath = getValue('filterPath', data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\nexport function doRename(parent) {\n  if (!hasEditAccess(parent.itemData[0])) {\n    createDeniedDialog(parent, parent.itemData[0], events.permissionEdit);\n  } else {\n    createDialog(parent, 'Rename');\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Download handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\nexport function doDownload(parent) {\n  // eslint-disable-next-line\n  var items = parent.itemData;\n\n  for (var i = 0; i < items.length; i++) {\n    if (!hasDownloadAccess(items[i])) {\n      createDeniedDialog(parent, items[i], events.permissionDownload);\n      return;\n    }\n  }\n\n  if (parent.selectedItems.length > 0) {\n    Download(parent, parent.path, parent.selectedItems);\n  }\n}\n/**\n * Delete Files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\nexport function doDeleteFiles(parent, data, newIds) {\n  for (var i = 0; i < data.length; i++) {\n    if (!hasEditAccess(data[i])) {\n      createDeniedDialog(parent, data[i], events.permissionEdit);\n      return;\n    }\n  }\n\n  parent.itemData = data;\n  Delete(parent, newIds, parent.path, 'delete');\n}\n/* istanbul ignore next */\n\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\nexport function doDownloadFiles(parent, data, newIds) {\n  for (var i = 0; i < data.length; i++) {\n    if (!hasDownloadAccess(data[i])) {\n      createDeniedDialog(parent, data[i], events.permissionDownload);\n      return;\n    }\n  }\n\n  parent.itemData = data;\n\n  if (newIds.length > 0) {\n    Download(parent, parent.path, newIds);\n  }\n}\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @param {string} action - specifies the actions.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\nexport function createDeniedDialog(parent, data, action) {\n  var message = getValue('message', getValue('permission', data));\n\n  if (message === '') {\n    message = getLocaleText(parent, 'Access-Message').replace('{0}', getValue('name', data)).replace('{1}', action);\n  }\n\n  var response = {\n    error: {\n      code: '401',\n      fileExists: null,\n      message: message\n    }\n  };\n  createDialog(parent, 'Error', response);\n}\n/**\n * Get Access Classes\n *\n * @param {Object} data - specifies the data.\n * @returns {string} - returns accesses classes.\n * @private\n */\n// eslint-disable-next-line\n\nexport function getAccessClass(data) {\n  return !hasReadAccess(data) ? 'e-fe-locked e-fe-hidden' : 'e-fe-locked';\n}\n/**\n * Check read access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns read access.\n * @private\n */\n// eslint-disable-next-line\n\nexport function hasReadAccess(data) {\n  // eslint-disable-next-line\n  var permission = getValue('permission', data);\n  return permission && !getValue('read', permission) ? false : true;\n}\n/**\n * Check edit access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns edit access.\n * @private\n */\n// eslint-disable-next-line\n\nexport function hasEditAccess(data) {\n  // eslint-disable-next-line\n  var permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('write', permission) : true;\n}\n/**\n * Check content access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns content access.\n * @private\n */\n// eslint-disable-next-line\n\nexport function hasContentAccess(data) {\n  // eslint-disable-next-line\n  var permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('writeContents', permission) : true;\n}\n/**\n * Check upload access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns upload access.\n * @private\n */\n// eslint-disable-next-line\n\nexport function hasUploadAccess(data) {\n  // eslint-disable-next-line\n  var permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('upload', permission) : true;\n}\n/**\n * Check download access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns download access.\n * @private\n */\n// eslint-disable-next-line\n\nexport function hasDownloadAccess(data) {\n  // eslint-disable-next-line\n  var permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('download', permission) : true;\n}\n/**\n * Create new folder handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\nexport function createNewFolder(parent) {\n  // eslint-disable-next-line\n  var details = parent.itemData[0];\n\n  if (!hasContentAccess(details)) {\n    createDeniedDialog(parent, details, events.permissionEditContents);\n  } else {\n    createDialog(parent, 'NewFolder');\n  }\n}\n/**\n * Upload item handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\nexport function uploadItem(parent) {\n  // eslint-disable-next-line\n  var details = parent.itemData[0];\n\n  if (!hasUploadAccess(details)) {\n    createDeniedDialog(parent, details, events.permissionUpload);\n  } else {\n    var eleId = '#' + parent.element.id + CLS.UPLOAD_ID;\n    var uploadEle = document.querySelector(eleId);\n    uploadEle.click();\n  }\n}","map":{"version":3,"sources":["/Users/altynbekkuat/Desktop/NomaLytics/node_modules/@syncfusion/ej2-react-richtexteditor/node_modules/@syncfusion/ej2-filemanager/src/file-manager/common/utility.js"],"names":["CLS","events","read","paste","Search","filter","Download","Delete","getValue","setValue","isNullOrUndefined","isNOU","matches","select","createElement","closest","detach","DataManager","Query","createDialog","updatePath","node","data","instance","text","id","getAttribute","newText","setProperties","path","getPath","hasId","pathId","getPathId","pathNames","getPathNames","element","matched","getParents","len","length","i","ids","push","names","isId","el","parentNode","LIST_ITEM","parentText","LIST_TEXT","textContent","classList","contains","TREE_VIEW","generatePath","parent","key","newPath","feParent","removeActive","isCut","removeBlur","selectedNodes","actionRecords","enablePaste","notify","hidePaste","activeElement","action","isSearchCut","activeElements","cutCopyInit","blurEle","activeModule","targetPath","getParentPath","getModule","addBlur","showPaste","activeRecords","breadcrumbbarModule","searchObj","value","isFiltered","i_1","selectedItems","nodes","add","BLUR","hover","querySelectorAll","HOVER","remove","ROW","LARGE_ICON","searchWordHandler","isLayoutChange","searchWord","pathColumn","args","searchSettings","filterType","itemData","getPathObject","caseSensitive","ignoreCase","hiddenItems","showHiddenItems","layoutChange","search","isSortByClicked","files","largeiconsviewModule","items","updateLayout","view","layoutSelectedItems","getTargetModule","tartgetModule","LARGE_ICONS","targetModule","refresh","hasReadAccess","createDeniedDialog","permissionRead","refreshEnd","openAction","openEnd","copyFiles","fileAction","cutFiles","fileType","file","isFile","FOLDER","imageFormat","audioFormat","videoFormat","knownFormat","filetype","toLowerCase","indexOf","split","join","iconType","ICON_IMAGE","ICON_MUSIC","ICON_VIDEO","getImageUrl","item","baseUrl","ajaxSettings","url","imgUrl","fileName","encodeURIComponent","fPath","imgId","replace","Date","getTime","toString","eventArgs","fileDetails","imageUrl","trigger","getFullPath","filePath","getName","name","getSortedData","query","sortOrder","sortBy","group","lists","executeLocal","getObject","currFiles","feFiles","where","createEmptyElement","top","layoutElement","LAYOUT_ID","addressBarHeight","BREADCRUMBBAR_ID","offsetHeight","GRID_HEADER","querySelector","EMPTY","emptyDiv","className","emptyFolder","LARGE_EMPTY_FOLDER","emptyEle","EMPTY_CONTENT","dragFile","EMPTY_INNER_CONTENT","GRID_VIEW","appendChild","error","innerHTML","getLocaleText","eDiv","style","marginTop","getDirectories","setNodeId","result","rootId","dirs","setDateObject","locale","localeObj","getConstant","getCssClass","css","cssClass","sortbyClickHandler","tick","getSortField","isMobile","sortColumn","module","sortByChange","substring","lastIndexOf","field","setNextPath","currfolders","folders","originalPath","root","eventName","finalizeEnd","initialEnd","openSearchFolder","clearPathInit","selectedNode","pasteHandler","isDragDrop","folderPath","subFolder","validateSubFolder","pasteInit","dropPath","dragPath","tempTarget","code","message","fileExists","srcData","dragNodes","dropHandler","dragData","dropData","oldPath","getDirectoryPath","cwd","doPasteUpdate","operation","cutEnd","dragEnd","duplicateItems","pasteNodes","flag","count","droppedObjects","duplicateRecords","isPasteError","isDropEnd","isSearchDrag","isPathDrag","pasteEnd","readDropPath","expandedId","pathDrag","navigationpaneModule","treeObj","getDuplicateData","records","createVirtualDragElement","getItemName","cloneIcon","cloneName","virtualEle","ele","CLONE","badge","virtualDragElement","dragStopHandler","dragArgs","cancel","treeExpandTimer","window","clearTimeout","removeDropTarget","uploadObj","dropArea","CONTENT_ID","target","dropInit","dragCount","dragStartHandler","dragObj","allowDragAndDrop","intDestroy","event","dragCancel","removeItemClass","DROP_FOLDER","DROP_FILE","draggingHandler","canDrop","setTimeout","dragging","objectToString","str","keys","Object","updateRenamingData","currentItemText","filterPath","doRename","hasEditAccess","permissionEdit","doDownload","hasDownloadAccess","permissionDownload","doDeleteFiles","newIds","doDownloadFiles","response","getAccessClass","permission","hasContentAccess","hasUploadAccess","createNewFolder","details","permissionEditContents","uploadItem","permissionUpload","eleId","UPLOAD_ID","uploadEle","document","click"],"mappings":"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","sourcesContent":["import * as CLS from '../base/classes';\nimport * as events from '../base/constant';\nimport { read, paste, Search, filter, Download, Delete } from '../common/operations';\nimport { getValue, setValue, isNullOrUndefined as isNOU, matches, select, createElement } from '@syncfusion/ej2-base';\nimport { closest, detach } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { createDialog } from '../pop-up/dialog';\n/**\n * Utility file for common actions\n *\n * @param {HTMLLIElement} node - specifies the node.\n * @param {Object} data - specifies the data.\n * @param {IFileManager} instance - specifies the control instance.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function updatePath(node, data, instance) {\n    var text = getValue('name', data);\n    var id = node.getAttribute('data-id');\n    var newText = isNOU(id) ? text : id;\n    instance.setProperties({ path: getPath(node, newText, instance.hasId) }, true);\n    instance.pathId = getPathId(node);\n    instance.pathNames = getPathNames(node, text);\n}\n/**\n * Functions for get path in FileManager\n *\n * @param {Element | Node} element - specifies the element.\n * @param {string} text - specifies the text.\n * @param {boolean} hasId - specifies the id.\n * @returns {string} returns the path.\n * @private\n */\nexport function getPath(element, text, hasId) {\n    var matched = getParents(element, text, false, hasId);\n    var path = hasId ? '' : '/';\n    var len = matched.length - (hasId ? 1 : 2);\n    for (var i = len; i >= 0; i--) {\n        path += matched[i] + '/';\n    }\n    return path;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} node - specifies the node element.\n * @returns {string[]} returns the path ids.\n * @private\n */\nexport function getPathId(node) {\n    var matched = getParents(node, node.getAttribute('data-uid'), true);\n    var ids = [];\n    for (var i = matched.length - 1; i >= 0; i--) {\n        ids.push(matched[i]);\n    }\n    return ids;\n}\n/**\n * Functions for get path names in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @returns {string[]} returns the path names.\n * @private\n */\nexport function getPathNames(element, text) {\n    var matched = getParents(element, text, false);\n    var names = [];\n    for (var i = matched.length - 1; i >= 0; i--) {\n        names.push(matched[i]);\n    }\n    return names;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @param {boolean} isId - specifies the id.\n * @param {boolean} hasId - checks the id exists.\n * @returns {string[]} returns parent element.\n * @private\n */\nexport function getParents(element, text, isId, hasId) {\n    var matched = [text];\n    var el = element.parentNode;\n    while (!isNOU(el)) {\n        if (matches(el, '.' + CLS.LIST_ITEM)) {\n            var parentText = isId ? el.getAttribute('data-uid') : (hasId ? el.getAttribute('data-id') :\n                select('.' + CLS.LIST_TEXT, el).textContent);\n            matched.push(parentText);\n        }\n        el = el.parentNode;\n        if (el.classList.contains(CLS.TREE_VIEW)) {\n            break;\n        }\n    }\n    return matched;\n}\n/**\n * Functions for generate path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function generatePath(parent) {\n    var key = parent.hasId ? 'id' : 'name';\n    var newPath = parent.hasId ? '' : '/';\n    var i = parent.hasId ? 0 : 1;\n    for (i; i < parent.pathId.length; i++) {\n        // eslint-disable-next-line\n        var data = getValue(parent.pathId[i], parent.feParent);\n        newPath += getValue(key, data) + '/';\n    }\n    parent.setProperties({ path: newPath }, true);\n}\n/**\n * Functions for remove active element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function removeActive(parent) {\n    if (parent.isCut) {\n        removeBlur(parent);\n        parent.selectedNodes = [];\n        parent.actionRecords = [];\n        parent.enablePaste = false;\n        parent.notify(events.hidePaste, {});\n    }\n}\n/**\n * Selects active element in File Manager\n *\n * @param {string} action - specifies the action.\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {boolean} - returns active element.\n * @private\n */\nexport function activeElement(action, parent) {\n    parent.isSearchCut = false;\n    parent.actionRecords = [];\n    parent.activeElements = [];\n    parent.notify(events.cutCopyInit, {});\n    if (parent.activeElements.length === 0) {\n        return false;\n    }\n    removeBlur(parent);\n    var blurEle = parent.activeElements;\n    if (parent.activeModule !== 'navigationpane') {\n        parent.targetPath = parent.path;\n    }\n    else {\n        parent.targetPath = getParentPath(parent.path);\n    }\n    var i = 0;\n    if (blurEle) {\n        getModule(parent, blurEle[0]);\n        if (action === 'cut') {\n            while (i < blurEle.length) {\n                addBlur(blurEle[i]);\n                i++;\n            }\n        }\n    }\n    i = 0;\n    parent.selectedNodes = [];\n    parent.enablePaste = true;\n    parent.notify(events.showPaste, {});\n    while (i < parent.activeRecords.length) {\n        parent.actionRecords.push(parent.activeRecords[i]);\n        parent.selectedNodes.push(getValue('name', parent.activeRecords[i]));\n        i++;\n    }\n    if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) &&\n        parent.activeModule !== 'navigationpane') {\n        parent.selectedNodes = [];\n        parent.isSearchCut = true;\n        var i_1 = 0;\n        while (i_1 < parent.selectedItems.length) {\n            parent.selectedNodes.push(parent.selectedItems[i_1]);\n            i_1++;\n        }\n    }\n    return true;\n}\n/**\n * Adds blur to the elements\n *\n * @param {Element} nodes - specifies the nodes.\n * @returns {void}\n * @private\n */\nexport function addBlur(nodes) {\n    nodes.classList.add(CLS.BLUR);\n}\n/**\n * Removes blur from elements\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} hover - specifies the hover string.\n * @returns {void}\n * @private\n */\nexport function removeBlur(parent, hover) {\n    var blurEle = (!hover) ? parent.element.querySelectorAll('.' + CLS.BLUR) :\n        parent.element.querySelectorAll('.' + CLS.HOVER);\n    var i = 0;\n    while (i < blurEle.length) {\n        blurEle[i].classList.remove((!hover) ? CLS.BLUR : CLS.HOVER);\n        i++;\n    }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\nexport function getModule(parent, element) {\n    if (element) {\n        if (element.classList.contains(CLS.ROW)) {\n            parent.activeModule = 'detailsview';\n        }\n        else if (closest(element, '.' + CLS.LARGE_ICON)) {\n            parent.activeModule = 'largeiconsview';\n        }\n        else {\n            parent.activeModule = 'navigationpane';\n        }\n    }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} value - specifies the value.\n * @param {boolean} isLayoutChange - specifies the layout change.\n * @returns {void}\n * @private\n */\nexport function searchWordHandler(parent, value, isLayoutChange) {\n    var searchWord;\n    if (value.length === 0 && !parent.isFiltered) {\n        parent.notify(events.pathColumn, { args: parent });\n    }\n    if (parent.searchSettings.filterType === 'startsWith') {\n        searchWord = value + '*';\n    }\n    else if (parent.searchSettings.filterType === 'endsWith') {\n        searchWord = '*' + value;\n    }\n    else {\n        searchWord = '*' + value + '*';\n    }\n    parent.searchWord = searchWord;\n    parent.itemData = [getPathObject(parent)];\n    if (value.length > 0) {\n        var caseSensitive = parent.searchSettings.ignoreCase;\n        var hiddenItems = parent.showHiddenItems;\n        Search(parent, isLayoutChange ? events.layoutChange : events.search, parent.path, searchWord, hiddenItems, !caseSensitive);\n    }\n    else {\n        if (!parent.isFiltered) {\n            if (parent.isSortByClicked) {\n                parent.notify(events.layoutChange, { files: parent.largeiconsviewModule.items });\n                parent.isSortByClicked = false;\n            }\n            else {\n                read(parent, isLayoutChange ? events.layoutChange : events.search, parent.path);\n            }\n        }\n        else {\n            filter(parent, events.layoutChange);\n        }\n    }\n}\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} view - specifies the view.\n * @returns {void}\n * @private\n */\nexport function updateLayout(parent, view) {\n    parent.setProperties({ view: view }, true);\n    if (parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) {\n        parent.layoutSelectedItems = parent.selectedItems;\n    }\n    var searchWord = '';\n    if (parent.breadcrumbbarModule.searchObj.element.value) {\n        searchWord = parent.breadcrumbbarModule.searchObj.element.value;\n    }\n    parent.isLayoutChange = true;\n    searchWordHandler(parent, searchWord, true);\n}\n/* istanbul ignore next */\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\nexport function getTargetModule(parent, element) {\n    var tartgetModule = '';\n    if (element) {\n        if (closest(element, '.e-gridcontent')) {\n            tartgetModule = 'detailsview';\n        }\n        else if (closest(element, '.' + CLS.LARGE_ICONS)) {\n            tartgetModule = 'largeiconsview';\n        }\n        else if (element.classList.contains('e-fullrow') ||\n            element.classList.contains('e-icon-expandable')) {\n            tartgetModule = 'navigationpane';\n        }\n        else if (closest(element, '.e-address-list-item')) {\n            tartgetModule = 'breadcrumbbar';\n        }\n        else {\n            tartgetModule = '';\n        }\n    }\n    parent.targetModule = tartgetModule;\n}\n/* istanbul ignore next */\n/**\n * refresh the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function refresh(parent) {\n    parent.itemData = [getPathObject(parent)];\n    if (!hasReadAccess(parent.itemData[0])) {\n        createDeniedDialog(parent, parent.itemData[0], events.permissionRead);\n    }\n    else {\n        read(parent, events.refreshEnd, parent.path);\n    }\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function openAction(parent) {\n    read(parent, events.openEnd, parent.path);\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {Object} - returns the path data.\n * @private\n */\n// eslint-disable-next-line\nexport function getPathObject(parent) {\n    return getValue(parent.pathId[parent.pathId.length - 1], parent.feParent);\n}\n/**\n * Copy files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function copyFiles(parent) {\n    if (!activeElement('copy', parent)) {\n        return;\n    }\n    else {\n        parent.fileAction = 'copy';\n    }\n}\n/**\n * Cut files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function cutFiles(parent) {\n    if (!activeElement('cut', parent)) {\n        return;\n    }\n    else {\n        parent.isCut = true;\n        parent.fileAction = 'move';\n    }\n}\n/**\n * To add class for fileType\n *\n * @param {Object} file - specifies the file.\n * @returns {string} - returns the file type.\n * @private\n */\n// eslint-disable-next-line\nexport function fileType(file) {\n    var isFile = getValue('isFile', file);\n    if (!isFile) {\n        return CLS.FOLDER;\n    }\n    var imageFormat = ['bmp', 'dib', 'jpg', 'jpeg', 'jpe', 'jfif', 'gif', 'tif', 'tiff', 'png', 'ico'];\n    var audioFormat = ['mp3', 'wav', 'aac', 'ogg', 'wma', 'aif', 'fla', 'm4a'];\n    var videoFormat = ['webm', 'mkv', 'flv', 'vob', 'ogv', 'ogg', 'avi', 'wmv', 'mp4', '3gp'];\n    var knownFormat = ['css', 'exe', 'html', 'js', 'msi', 'pdf', 'pptx', 'ppt', 'rar', 'zip', 'txt', 'docx', 'doc',\n        'xlsx', 'xls', 'xml', 'rtf', 'php'];\n    var filetype = getValue('type', file);\n    filetype = filetype.toLowerCase();\n    if (filetype.indexOf('.') !== -1) {\n        filetype = filetype.split('.').join('');\n    }\n    var iconType;\n    if (imageFormat.indexOf(filetype) !== -1) {\n        iconType = CLS.ICON_IMAGE;\n    }\n    else if (audioFormat.indexOf(filetype) !== -1) {\n        iconType = CLS.ICON_MUSIC;\n    }\n    else if (videoFormat.indexOf(filetype) !== -1) {\n        iconType = CLS.ICON_VIDEO;\n    }\n    else if (knownFormat.indexOf(filetype) !== -1) {\n        iconType = 'e-fe-' + filetype;\n    }\n    else {\n        iconType = 'e-fe-unknown e-fe-' + filetype;\n    }\n    return iconType;\n}\n/* istanbul ignore next */\n/**\n * To get the image URL\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} item - specifies the item.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\nexport function getImageUrl(parent, item) {\n    var baseUrl = parent.ajaxSettings.getImageUrl ? parent.ajaxSettings.getImageUrl : parent.ajaxSettings.url;\n    var imgUrl;\n    var fileName = encodeURIComponent(getValue('name', item));\n    var fPath = getValue('filterPath', item);\n    if (parent.hasId) {\n        var imgId = getValue('id', item);\n        imgUrl = baseUrl + '?path=' + parent.path + '&id=' + imgId;\n    }\n    else if (!isNOU(fPath)) {\n        imgUrl = baseUrl + '?path=' + fPath.replace(/\\\\/g, '/') + fileName;\n    }\n    else {\n        imgUrl = baseUrl + '?path=' + parent.path + fileName;\n    }\n    imgUrl = imgUrl + '&time=' + (new Date().getTime()).toString();\n    var eventArgs = {\n        fileDetails: [item],\n        imageUrl: imgUrl\n    };\n    parent.trigger('beforeImageLoad', eventArgs);\n    return eventArgs.imageUrl;\n}\n/* istanbul ignore next */\n/**\n * Gets the full path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {string} path - specifies the path.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\nexport function getFullPath(parent, data, path) {\n    var filePath = getValue(parent.hasId ? 'id' : 'name', data) + '/';\n    var fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', data);\n    if (!isNOU(fPath)) {\n        return fPath.replace(/\\\\/g, '/') + filePath;\n    }\n    else {\n        return path + filePath;\n    }\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @returns {string} - returns the name.\n * @private\n */\n// eslint-disable-next-line\nexport function getName(parent, data) {\n    var name = getValue('name', data);\n    var fPath = getValue('filterPath', data);\n    if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) && !isNOU(fPath)) {\n        fPath = fPath.replace(/\\\\/g, '/');\n        name = fPath.replace(parent.path, '') + name;\n    }\n    return name;\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object[]} items - specifies the item elements.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nexport function getSortedData(parent, items) {\n    if (items.length === 0) {\n        return items;\n    }\n    var query;\n    if (parent.sortOrder !== 'None') {\n        query = new Query().sortBy(parent.sortBy, parent.sortOrder.toLowerCase(), true).group('isFile');\n    }\n    else {\n        query = new Query().group('isFile');\n    }\n    // eslint-disable-next-line\n    var lists = new DataManager(items).executeLocal(query);\n    return getValue('records', lists);\n}\n/**\n * Gets the data object\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} key - specifies the key.\n * @param {string} value - specifies the value.\n * @returns {Object} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nexport function getObject(parent, key, value) {\n    // eslint-disable-next-line\n    var currFiles = getValue(parent.pathId[parent.pathId.length - 1], parent.feFiles);\n    var query = new Query().where(key, 'equal', value);\n    // eslint-disable-next-line\n    var lists = new DataManager(currFiles).executeLocal(query);\n    return lists[0];\n}\n/**\n * Creates empty element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLElement} element - specifies the element.\n * @param {ReadArgs | SearchArgs} args - specifies the args.\n * @returns {void}\n * @private\n */\nexport function createEmptyElement(parent, element, args) {\n    var top;\n    var layoutElement = select('#' + parent.element.id + CLS.LAYOUT_ID, parent.element);\n    var addressBarHeight = select('#' + parent.element.id + CLS.BREADCRUMBBAR_ID, layoutElement).offsetHeight;\n    top = layoutElement.offsetHeight - addressBarHeight;\n    if (parent.view === 'Details') {\n        top = top - select('.' + CLS.GRID_HEADER, layoutElement).offsetHeight;\n    }\n    if (isNOU(element.querySelector('.' + CLS.EMPTY))) {\n        var emptyDiv = createElement('div', { className: CLS.EMPTY });\n        var emptyFolder = createElement('div', { className: CLS.LARGE_EMPTY_FOLDER });\n        var emptyEle = createElement('div', { className: CLS.EMPTY_CONTENT });\n        var dragFile = createElement('div', { className: CLS.EMPTY_INNER_CONTENT });\n        if (parent.view === 'Details') {\n            element.querySelector('.' + CLS.GRID_VIEW).appendChild(emptyDiv);\n        }\n        else {\n            element.appendChild(emptyDiv);\n        }\n        emptyDiv.appendChild(emptyFolder);\n        emptyDiv.appendChild(emptyEle);\n        emptyDiv.appendChild(dragFile);\n    }\n    if (element.querySelector('.' + CLS.EMPTY)) {\n        if (!isNOU(args.error)) {\n            element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Access-Denied');\n            element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Access-Details');\n        }\n        else if (parent.isFiltered) {\n            element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Empty');\n            element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Key');\n        }\n        else if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n            element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Search-Empty');\n            element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Search-Key');\n        }\n        else {\n            element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Folder-Empty');\n            element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'File-Upload');\n        }\n    }\n    var eDiv = select('.' + CLS.EMPTY, element);\n    top = (top - eDiv.offsetHeight) / 2;\n    eDiv.style.marginTop = top + 'px';\n}\n/**\n * Gets the directories\n *\n * @param {Object[]} files - specifies the file object.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nexport function getDirectories(files) {\n    return new DataManager(files).executeLocal(new Query().where(events.isFile, 'equal', false, false));\n}\n/**\n * set the Node ID\n *\n * @param {ReadArgs} result - specifies the result.\n * @param {string} rootId - specifies the rootId.\n * @returns {void}\n * @private\n */\nexport function setNodeId(result, rootId) {\n    // eslint-disable-next-line\n    var dirs = getDirectories(result.files);\n    for (var i = 0, len = dirs.length; i < len; i++) {\n        setValue('_fm_id', rootId + '_' + i, dirs[i]);\n    }\n}\n/**\n * set the date object\n *\n * @param {Object[]} args - specifies the file object.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function setDateObject(args) {\n    for (var i = 0; i < args.length; i++) {\n        setValue('_fm_created', new Date(getValue('dateCreated', args[i])), args[i]);\n        setValue('_fm_modified', new Date(getValue('dateModified', args[i])), args[i]);\n    }\n}\n/**\n * get the locale text\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text.\n * @returns {string} - returns the locale text.\n * @private\n */\nexport function getLocaleText(parent, text) {\n    var locale = parent.localeObj.getConstant(text);\n    return (locale === '') ? text : locale;\n}\n/**\n * get the CSS class\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} css - specifies the css.\n * @returns {string} - returns the css classes.\n * @private\n */\nexport function getCssClass(parent, css) {\n    var cssClass = parent.cssClass;\n    cssClass = (isNOU(cssClass) || cssClass === '') ? css : (cssClass + ' ' + css);\n    return cssClass;\n}\n/**\n * sort on click\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {MenuEventArgs} args - specifies the menu event arguements.\n * @returns {void}\n * @private\n */\nexport function sortbyClickHandler(parent, args) {\n    var tick;\n    parent.isSortByClicked = true;\n    if (args.item.id.indexOf('ascending') !== -1 || args.item.id.indexOf('descending') !== -1 || args.item.id.indexOf('none') !== -1) {\n        tick = true;\n    }\n    else {\n        tick = false;\n    }\n    if (!tick) {\n        parent.sortBy = getSortField(args.item.id);\n    }\n    else {\n        parent.sortOrder = getSortField(args.item.id);\n    }\n    parent.itemData = [getPathObject(parent)];\n    if (parent.view === 'Details') {\n        if (parent.isMobile) {\n            updateLayout(parent, 'Details');\n        }\n        else {\n            parent.notify(events.sortColumn, { module: 'detailsview' });\n        }\n    }\n    if (parent.view === 'LargeIcons') {\n        updateLayout(parent, 'LargeIcons');\n    }\n    parent.notify(events.sortByChange, {});\n}\n/**\n * Gets the sorted fields\n *\n * @param {string} id - specifies the id.\n * @returns {string} - returns the sorted fields\n * @private\n */\nexport function getSortField(id) {\n    var text = id.substring(id.lastIndexOf('_') + 1);\n    var field = text;\n    switch (text) {\n        case 'date':\n            field = '_fm_modified';\n            break;\n        case 'ascending':\n            field = 'Ascending';\n            break;\n        case 'descending':\n            field = 'Descending';\n            break;\n        case 'none':\n            field = 'None';\n            break;\n    }\n    return field;\n}\n/**\n * Sets the next path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\nexport function setNextPath(parent, path) {\n    var currfolders = path.split('/');\n    var folders = parent.originalPath.split('/');\n    // eslint-disable-next-line\n    var root = getValue(parent.pathId[0], parent.feParent);\n    var key = isNOU(getValue('id', root)) ? 'name' : 'id';\n    for (var i = currfolders.length - 1, len = folders.length - 1; i < len; i++) {\n        var eventName = (folders[i + 1] === '') ? events.finalizeEnd : events.initialEnd;\n        var newPath = (folders[i] === '') ? '/' : (parent.path + folders[i] + '/');\n        // eslint-disable-next-line\n        var data = getObject(parent, key, folders[i]);\n        var id = getValue('_fm_id', data);\n        parent.setProperties({ path: newPath }, true);\n        parent.pathId.push(id);\n        parent.itemData = [data];\n        parent.pathNames.push(getValue('name', data));\n        read(parent, eventName, parent.path);\n        break;\n    }\n}\n/**\n * Opens the searched folder\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function openSearchFolder(parent, data) {\n    parent.notify(events.clearPathInit, { selectedNode: parent.pathId[parent.pathId.length - 1] });\n    parent.originalPath = getFullPath(parent, data, parent.path);\n    read(parent, (parent.path !== parent.originalPath) ? events.initialEnd : events.finalizeEnd, parent.path);\n}\n/**\n * Paste handling function\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function pasteHandler(parent) {\n    parent.isDragDrop = false;\n    if (parent.selectedNodes.length !== 0 && parent.enablePaste) {\n        var path = (parent.folderPath === '') ? parent.path : parent.folderPath;\n        // eslint-disable-next-line\n        var subFolder = validateSubFolder(parent, parent.actionRecords, path, parent.path);\n        if (!subFolder) {\n            if ((parent.fileAction === 'move' && parent.targetPath !== path) || parent.fileAction === 'copy') {\n                parent.notify(events.pasteInit, {});\n                paste(parent, parent.targetPath, parent.selectedNodes, path, parent.fileAction, [], parent.actionRecords);\n            }\n            else {\n                parent.enablePaste = false;\n                parent.notify(events.hidePaste, {});\n                removeBlur(parent);\n            }\n        }\n    }\n}\n/**\n * Validates the sub folders\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {'{ [key: string]: Object; }[]'} data - specifies the data.\n * @param {string} dropPath - specifies the drop path.\n * @param {string} dragPath - specifies the drag path.\n * @returns {boolean} - returns the validated sub folder.\n * @private\n */\n// eslint-disable-next-line\nexport function validateSubFolder(parent, data, dropPath, dragPath) {\n    var subFolder = false;\n    for (var i = 0; i < data.length; i++) {\n        if (!getValue('isFile', data[i])) {\n            var tempTarget = getFullPath(parent, data[i], dragPath);\n            if (dropPath.indexOf(tempTarget) === 0) {\n                var result = {\n                    files: null,\n                    error: {\n                        code: '402',\n                        message: getLocaleText(parent, 'Sub-Folder-Error'),\n                        fileExists: null\n                    }\n                };\n                createDialog(parent, 'Error', result);\n                subFolder = true;\n                break;\n            }\n        }\n        else {\n            var srcData = parent.dragNodes[i];\n            var len = 0;\n            if (srcData) {\n                len = srcData.lastIndexOf('/');\n            }\n            var path = '';\n            if (len > 0) {\n                path = dragPath + srcData.substring(0, len + 1);\n            }\n            if (path === dropPath) {\n                var result = {\n                    files: null,\n                    error: {\n                        code: '402',\n                        message: getLocaleText(parent, 'Same-Folder-Error'),\n                        fileExists: null\n                    }\n                };\n                createDialog(parent, 'Error', result);\n                subFolder = true;\n                break;\n            }\n        }\n    }\n    return subFolder;\n}\n/**\n * Validates the drop handler\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function dropHandler(parent) {\n    parent.isDragDrop = true;\n    if (parent.dragData.length !== 0) {\n        parent.dragPath = parent.dragPath.replace(/\\\\/g, '/');\n        parent.dropPath = parent.dropPath.replace(/\\\\/g, '/');\n        var subFolder = validateSubFolder(parent, parent.dragData, parent.dropPath, parent.dragPath);\n        if (!subFolder && (parent.dragPath !== parent.dropPath)) {\n            parent.itemData = [parent.dropData];\n            paste(parent, parent.dragPath, parent.dragNodes, parent.dropPath, 'move', [], parent.dragData);\n            parent.notify(events.pasteInit, {});\n        }\n    }\n}\n/**\n * Gets the parent path\n *\n * @param {string} oldPath - specifies the old path.\n * @returns {string} - returns the parent path.\n * @private\n */\nexport function getParentPath(oldPath) {\n    var path = oldPath.split('/');\n    var newPath = path[0] + '/';\n    for (var i = 1; i < path.length - 2; i++) {\n        newPath += path[i] + '/';\n    }\n    return newPath;\n}\n/**\n * Gets the directory path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {ReadArgs} args - returns the read arguements.\n * @returns {string} - returns the directory path\n * @private\n */\nexport function getDirectoryPath(parent, args) {\n    var filePath = getValue(parent.hasId ? 'id' : 'name', args.cwd) + '/';\n    var fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', args.cwd);\n    if (!isNOU(fPath)) {\n        if (fPath === '') {\n            return parent.hasId ? filePath : '/';\n        }\n        return fPath.replace(/\\\\/g, '/') + filePath;\n    }\n    else {\n        return parent.path + filePath;\n    }\n}\n/**\n * Gets the do paste path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} operation - specifies the operations.\n * @param {ReadArgs} result - returns the result.\n * @returns {void}\n * @private\n */\nexport function doPasteUpdate(parent, operation, result) {\n    if (operation === 'move') {\n        if (!parent.isDragDrop) {\n            parent.enablePaste = false;\n            parent.notify(events.hidePaste, {});\n            parent.notify(events.cutEnd, result);\n        }\n        else {\n            parent.notify(events.dragEnd, result);\n        }\n    }\n    if (parent.duplicateItems.length === 0) {\n        parent.pasteNodes = [];\n    }\n    var flag = false;\n    for (var count = 0; (count < result.files.length) && !flag; count++) {\n        parent.pasteNodes.push(result.files[count][parent.hasId ? 'id' : 'name']);\n        if (parent.isDragDrop) {\n            parent.droppedObjects.push(result.files[count]);\n        }\n    }\n    parent.duplicateItems = [];\n    parent.duplicateRecords = [];\n    if (parent.isDragDrop && !parent.isPasteError) {\n        parent.isDropEnd = true;\n    }\n    else {\n        parent.isDropEnd = false;\n    }\n    if (!parent.isDragDrop || (parent.path === parent.dragPath) || (parent.path === parent.dropPath)\n        || parent.isSearchDrag) {\n        parent.isPathDrag = false;\n        read(parent, events.pasteEnd, parent.path);\n    }\n    else {\n        readDropPath(parent);\n    }\n    parent.trigger('success', { action: operation, result: result });\n}\n/**\n * Reads the drop path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function readDropPath(parent) {\n    var pathId = getValue('_fm_id', parent.dropData);\n    parent.expandedId = pathId;\n    parent.itemData = [parent.dropData];\n    if (parent.isPathDrag) {\n        parent.notify(events.pathDrag, parent.itemData);\n    }\n    else {\n        if (parent.navigationpaneModule) {\n            var node = select('[data-uid=\"' + pathId + '\"]', parent.navigationpaneModule.treeObj.element);\n            updatePath(node, parent.dropData, parent);\n        }\n        read(parent, events.dropPath, parent.dropPath);\n    }\n}\n/**\n * Gets the duplicated path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} name - specifies the name.\n * @returns {object} - returns the duplicated path.\n * @private\n */\n// eslint-disable-next-line\nexport function getDuplicateData(parent, name) {\n    // eslint-disable-next-line\n    var data = null;\n    // eslint-disable-next-line\n    var records = parent.isDragDrop ? parent.dragData : parent.actionRecords;\n    for (var i = 0; i < records.length; i++) {\n        if (getValue('name', records[i]) === name) {\n            data = records[i];\n            break;\n        }\n    }\n    return data;\n}\n/**\n * Gets the create the virtual drag element\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function createVirtualDragElement(parent) {\n    parent.isSearchDrag = false;\n    if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n        parent.isSearchDrag = true;\n    }\n    if (parent.activeModule !== 'navigationpane') {\n        parent.dragNodes = [];\n        var i = 0;\n        while (i < parent.selectedItems.length) {\n            parent.dragNodes.push(parent.selectedItems[i]);\n            i++;\n        }\n        if (parent.selectedItems.length === 0 && parent.dragData && parent.dragData.length === 1) {\n            parent.dragNodes.push(getItemName(parent, parent.dragData[0]));\n        }\n    }\n    var cloneIcon = parent.createElement('div', {\n        className: 'e-fe-icon ' + fileType(parent.dragData[0])\n    });\n    var cloneName = parent.createElement('div', {\n        className: 'e-fe-name',\n        innerHTML: parent.dragData[0].name\n    });\n    var virtualEle = parent.createElement('div', {\n        className: 'e-fe-content'\n    });\n    virtualEle.appendChild(cloneIcon);\n    virtualEle.appendChild(cloneName);\n    var ele = parent.createElement('div', {\n        className: CLS.CLONE\n    });\n    ele.appendChild(virtualEle);\n    if (parent.dragNodes.length > 1) {\n        var badge = parent.createElement('span', {\n            className: 'e-fe-count',\n            innerHTML: (parent.dragNodes.length).toString(10)\n        });\n        ele.appendChild(badge);\n    }\n    parent.virtualDragElement = ele;\n    parent.element.appendChild(parent.virtualDragElement);\n}\n/**\n * Drops the stop handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\nexport function dragStopHandler(parent, args) {\n    var dragArgs = args;\n    dragArgs.cancel = false;\n    if (parent.treeExpandTimer != null) {\n        window.clearTimeout(parent.treeExpandTimer);\n        parent.treeExpandTimer = null;\n    }\n    removeDropTarget(parent);\n    parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n    removeBlur(parent);\n    parent.uploadObj.dropArea = select('#' + parent.element.id + CLS.CONTENT_ID, parent.element);\n    var virtualEle = select('.' + CLS.CLONE, parent.element);\n    if (virtualEle) {\n        detach(virtualEle);\n    }\n    getTargetModule(parent, args.target);\n    parent.notify(events.dropInit, args);\n    removeBlur(parent, 'hover');\n    dragArgs.fileDetails = parent.dragData;\n    parent.trigger('fileDragStop', dragArgs, function (dragArgs) {\n        if (!dragArgs.cancel && !isNOU(parent.targetModule) && parent.targetModule !== '' && parent.dragCount > 2) {\n            dropHandler(parent);\n        }\n        parent.dragCount = 0;\n    });\n}\n/**\n * Drag the start handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {'DragEventArgs'} args - specifies the drag event arguements.\n * @param {Draggable} dragObj - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\nexport function dragStartHandler(parent, args, dragObj) {\n    var dragArgs = args;\n    dragArgs.cancel = false;\n    dragArgs.fileDetails = parent.dragData;\n    parent.dragCount = 0;\n    parent.droppedObjects = [];\n    if (!parent.allowDragAndDrop || ((parent.activeModule === 'navigationpane') &&\n        (closest(args.element, 'li').getAttribute('data-uid') === parent.pathId[0]))) {\n        dragArgs.cancel = true;\n    }\n    if ((parent.activeModule === 'navigationpane') &&\n        (parent.pathId.indexOf(closest(args.element, 'li').getAttribute('data-uid')) !== -1)) {\n        parent.isPathDrag = true;\n    }\n    else {\n        parent.isPathDrag = false;\n    }\n    removeBlur(parent);\n    if (dragArgs.cancel) {\n        dragObj.intDestroy(args.event);\n        dragCancel(parent);\n    }\n    else if (!dragArgs.cancel) {\n        var i = 0;\n        while (i < parent.activeElements.length) {\n            addBlur(parent.activeElements[i]);\n            i++;\n        }\n        parent.trigger('fileDragStart', dragArgs, function (dragArgs) {\n            if (dragArgs.cancel) {\n                dragObj.intDestroy(args.event);\n                dragCancel(parent);\n            }\n            else {\n                parent.uploadObj.dropArea = null;\n            }\n        });\n    }\n}\n/**\n * Drag the cancel handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function dragCancel(parent) {\n    removeBlur(parent);\n    var virtualEle = select('.' + CLS.CLONE, parent.element);\n    if (virtualEle) {\n        detach(virtualEle);\n    }\n}\n/**\n * Remove drop target handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function removeDropTarget(parent) {\n    removeItemClass(parent, CLS.DROP_FOLDER);\n    removeItemClass(parent, CLS.DROP_FILE);\n}\n/**\n * Remove item class handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} value - specifies the value.\n * @returns {void}\n * @private\n */\nexport function removeItemClass(parent, value) {\n    var ele = parent.element.querySelectorAll('.' + value);\n    for (var i = 0; i < ele.length; i++) {\n        ele[i].classList.remove(value);\n    }\n}\n/**\n * Dragging handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the arguements.\n * @returns {void}\n * @private\n */\nexport function draggingHandler(parent, args) {\n    var dragArgs = args;\n    dragArgs.fileDetails = parent.dragData;\n    var canDrop = false;\n    getTargetModule(parent, args.target);\n    removeDropTarget(parent);\n    if (parent.treeExpandTimer != null) {\n        window.clearTimeout(parent.treeExpandTimer);\n        parent.treeExpandTimer = null;\n    }\n    removeBlur(parent, 'hover');\n    var node = null;\n    if (parent.targetModule === 'navigationpane') {\n        node = closest(args.target, 'li');\n        node.classList.add(CLS.HOVER, CLS.DROP_FOLDER);\n        canDrop = true;\n        /* istanbul ignore next */\n        parent.treeExpandTimer = window.setTimeout(function () { parent.notify(events.dragging, args); }, 800);\n    }\n    else if (parent.targetModule === 'detailsview') {\n        node = closest(args.target, 'tr');\n        if (node && node.querySelector('.' + CLS.FOLDER) && !node.classList.contains(CLS.BLUR)) {\n            node.classList.add(CLS.DROP_FOLDER);\n        }\n        else if (node && !node.querySelector('.' + CLS.FOLDER) && !node.classList.contains(CLS.BLUR)) {\n            node.classList.add(CLS.DROP_FILE);\n        }\n        canDrop = true;\n    }\n    else if (parent.targetModule === 'largeiconsview') {\n        node = closest(args.target, 'li');\n        if (node && node.querySelector('.' + CLS.FOLDER) && !node.classList.contains(CLS.BLUR)) {\n            node.classList.add(CLS.HOVER, CLS.DROP_FOLDER);\n        }\n        canDrop = true;\n        /* istanbul ignore next */\n    }\n    else if (parent.targetModule === 'breadcrumbbar') {\n        canDrop = true;\n    }\n    parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n    parent.element.classList.add(canDrop ? 'e-fe-drop' : 'e-no-drop');\n    parent.dragCount = parent.dragCount + 1;\n    parent.trigger('fileDragging', dragArgs);\n}\n/**\n * Object to string handler\n *\n * @param {Object} data - specifies the data.\n * @returns {string} returns string converted from Object.\n * @private\n */\n// Ignored the message key value in permission object\n// eslint-disable-next-line\nexport function objectToString(data) {\n    var str = '';\n    var keys = Object.keys(data);\n    for (var i = 0; i < keys.length; i++) {\n        if (keys[i] !== 'message') {\n            str += (i === 0 ? '' : ', ') + keys[i] + ': ' + getValue(keys[i], data);\n        }\n    }\n    return str;\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {string} returns the item name.\n * @private\n */\n// eslint-disable-next-line\nexport function getItemName(parent, data) {\n    if (parent.hasId) {\n        return getValue('id', data);\n    }\n    return getName(parent, data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function updateRenamingData(parent, data) {\n    parent.itemData = [data];\n    parent.currentItemText = getValue('name', data);\n    parent.isFile = getValue('isFile', data);\n    parent.filterPath = getValue('filterPath', data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function doRename(parent) {\n    if (!hasEditAccess(parent.itemData[0])) {\n        createDeniedDialog(parent, parent.itemData[0], events.permissionEdit);\n    }\n    else {\n        createDialog(parent, 'Rename');\n    }\n}\n/* istanbul ignore next */\n/**\n * Download handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function doDownload(parent) {\n    // eslint-disable-next-line\n    var items = parent.itemData;\n    for (var i = 0; i < items.length; i++) {\n        if (!hasDownloadAccess(items[i])) {\n            createDeniedDialog(parent, items[i], events.permissionDownload);\n            return;\n        }\n    }\n    if (parent.selectedItems.length > 0) {\n        Download(parent, parent.path, parent.selectedItems);\n    }\n}\n/**\n * Delete Files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function doDeleteFiles(parent, data, newIds) {\n    for (var i = 0; i < data.length; i++) {\n        if (!hasEditAccess(data[i])) {\n            createDeniedDialog(parent, data[i], events.permissionEdit);\n            return;\n        }\n    }\n    parent.itemData = data;\n    Delete(parent, newIds, parent.path, 'delete');\n}\n/* istanbul ignore next */\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function doDownloadFiles(parent, data, newIds) {\n    for (var i = 0; i < data.length; i++) {\n        if (!hasDownloadAccess(data[i])) {\n            createDeniedDialog(parent, data[i], events.permissionDownload);\n            return;\n        }\n    }\n    parent.itemData = data;\n    if (newIds.length > 0) {\n        Download(parent, parent.path, newIds);\n    }\n}\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @param {string} action - specifies the actions.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function createDeniedDialog(parent, data, action) {\n    var message = getValue('message', getValue('permission', data));\n    if (message === '') {\n        message = getLocaleText(parent, 'Access-Message').replace('{0}', getValue('name', data)).replace('{1}', action);\n    }\n    var response = {\n        error: {\n            code: '401',\n            fileExists: null,\n            message: message\n        }\n    };\n    createDialog(parent, 'Error', response);\n}\n/**\n * Get Access Classes\n *\n * @param {Object} data - specifies the data.\n * @returns {string} - returns accesses classes.\n * @private\n */\n// eslint-disable-next-line\nexport function getAccessClass(data) {\n    return !hasReadAccess(data) ? 'e-fe-locked e-fe-hidden' : 'e-fe-locked';\n}\n/**\n * Check read access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns read access.\n * @private\n */\n// eslint-disable-next-line\nexport function hasReadAccess(data) {\n    // eslint-disable-next-line\n    var permission = getValue('permission', data);\n    return (permission && !getValue('read', permission)) ? false : true;\n}\n/**\n * Check edit access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns edit access.\n * @private\n */\n// eslint-disable-next-line\nexport function hasEditAccess(data) {\n    // eslint-disable-next-line\n    var permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('write', permission))) : true;\n}\n/**\n * Check content access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns content access.\n * @private\n */\n// eslint-disable-next-line\nexport function hasContentAccess(data) {\n    // eslint-disable-next-line\n    var permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('writeContents', permission))) : true;\n}\n/**\n * Check upload access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns upload access.\n * @private\n */\n// eslint-disable-next-line\nexport function hasUploadAccess(data) {\n    // eslint-disable-next-line\n    var permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('upload', permission))) : true;\n}\n/**\n * Check download access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns download access.\n * @private\n */\n// eslint-disable-next-line\nexport function hasDownloadAccess(data) {\n    // eslint-disable-next-line\n    var permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('download', permission))) : true;\n}\n/**\n * Create new folder handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function createNewFolder(parent) {\n    // eslint-disable-next-line\n    var details = parent.itemData[0];\n    if (!hasContentAccess(details)) {\n        createDeniedDialog(parent, details, events.permissionEditContents);\n    }\n    else {\n        createDialog(parent, 'NewFolder');\n    }\n}\n/**\n * Upload item handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function uploadItem(parent) {\n    // eslint-disable-next-line\n    var details = parent.itemData[0];\n    if (!hasUploadAccess(details)) {\n        createDeniedDialog(parent, details, events.permissionUpload);\n    }\n    else {\n        var eleId = '#' + parent.element.id + CLS.UPLOAD_ID;\n        var uploadEle = document.querySelector(eleId);\n        uploadEle.click();\n    }\n}\n"]},"metadata":{},"sourceType":"module"}